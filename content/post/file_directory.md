---
title : "Linux文件与目录"
author : "Jun"
date : 2021-02-28T15:38:10+08:00
---



## 文件


- `d`目录
- `-`文件
- `l`链接文件

### 文件的基本权限

- `r` 读权限，数字为4
- `w`写权限，数字为2
- `x`执行权限，数字为1

**目录只有具备`x`权限时才能进入**

### 文件的隐藏权限

- `chattr`设置

  ```
  +   增加一个权限
  -   移除一个权限
  =   设置一定，且仅有后面的权限
  
  S   强制将变动立即写入硬盘
  a   只能增加数据，不可以删除或者修改
  i   不能删除，改名，新增数据
  ```

- `lsattr`查看

```
lsattr -a //显示隐藏权限
lsattr -d //显示目录本身的权限
lsattr -R //将子目录权限一起列出来
```

### 文件的默认权限

`umask`为新创建一个文件或目录时，它的默认权限。

`umask`的值指的是需要**减掉的权限**

一般情况下`umask`值为002，表示权限为`rwxr-xr-x`

### 文件的特殊权限
#### `Set UID`

当`s`出现在文件所有者的`x`权限时，此时称为`SET UID`，分数为4

- `SUID`权限只对二进制程序有效
- 执行者拥有`x`权限
- 本权限只在执行时有效
- 执行者将获得拥有者的权限

#### `Set GID`
当`s`出现在群组的`x`权限时，此时称为`SET UID`，分数为2

- `SGID`权限只对二进制程序有效
- 执行者需要拥有`x`权限
- 执行者执行时将临时成为群组的一员

#### `Sticky Bit`
此权限仅对目录有效，分数为1

当某一目录具有此权限时，一个具有`w`权限的非所有者，只能修改自己创建的文件或目录。

举例来说，`/tmp`的权限是`drwxrwxrwxt`，任何人都可以在此目录中创建文件或目录，但只有`root`或者文件创建者可以删除该文件。



## 目录

### 基本知识

- 绝对路径从/写起，相对目录从当前目录写起

- .代表当前目录，..代表上一级目录，~代表用户家目录

  

### Linux目录结构

![linux-directory.jpeg](https://i.loli.net/2021/01/22/ciCo2UblF1AIjup.jpg)

### 主要目录及其作用

| 名称       | 作用                                                         |
| ---------- | ------------------------------------------------------------ |
| /          | 根目录，所有目录的挂载点                                     |
| /bin       | 包含所有用户都可直接使用的命令,还可能包含脚本间接使用的命令  |
| /etc       | 配置文件保存位置，系统内所有默认安装的服务的配置文件全部保存到这个目录中 |
| /boot      | 包含开机启动过程所需的所有内容                               |
| /dev       | 存放与设备（包括外设）有关的文件                             |
| /home      | 用户家目录                                                   |
| /tmp       | 系统存放临时文件的目录，该目录所有用户都可以访问和写入，每次开机都会被清空 |
| /usr       | 默认软件都会存于该目录，包含绝大多数的用户工具和应用程序     |
| /usr/local | 主要存放那些手动安装，即编译安装的软件                       |
